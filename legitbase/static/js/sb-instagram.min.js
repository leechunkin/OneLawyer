!function(){function i(){jQuery("#sb_instagram.sbi").each(function(){var t=jQuery(this),i=t.find("#sbi_images"),e=t.find("#sbi_load .sbi_load_btn"),s="standard_resolution",o=parseInt(this.getAttribute("data-cols"),10),n=this.getAttribute("data-num"),r=JSON.parse(this.getAttribute("data-options")),a="user",l="none",d=this.getAttribute("data-id"),n=this.getAttribute("data-num"),u="",h=[];switch(""!==r.sortby&&(l=r.sortby),this.getAttribute("data-res")){case"auto":var p=t.innerWidth(),f=t.innerWidth()/o,m=jQuery(window).width();640>m&&(640>p&&t.is(".sbi_col_3, .sbi_col_4, .sbi_col_5, .sbi_col_6")&&(f=300),640>p&&t.is(".sbi_col_7, .sbi_col_8, .sbi_col_9, .sbi_col_10")&&(f=100),p>320&&480>p&&480>m&&(f=480),320>p&&480>m&&(f=300)),s=150>f?"thumbnail":320>f?"low_resolution":"standard_resolution",100>=p&&(s="low_resolution");break;case"thumb":s="thumbnail";break;case"medium":s="low_resolution";break;default:s="standard_resolution"}var g=d.replace(/ /g,"").split(","),b=g,_="",y="https://api.instagram.com/v1/users/"+g[0]+"?access_token="+sb_instagram_js_options.sb_instagram_at;r.headercolor.length&&(_='style="color: #'+r.headercolor+'"'),jQuery.ajax({method:"GET",url:y,dataType:"jsonp",success:function(i){u='<a href="http://instagram.com/'+i.data.username+'" target="_blank" title="@'+i.data.username+'" class="sbi_header_link">',u+='<div class="sbi_header_text">',u+="<h3 "+_,0==i.data.bio.length&&(u+=' class="sbi_no_bio"'),u+=">@"+i.data.username+"</h3>",i.data.bio.length&&(u+='<p class="sbi_bio" '+_+">"+i.data.bio+"</p>"),u+="</div>",u+='<div class="sbi_header_img">',u+='<div class="sbi_header_img_hover"><i></i></div>',u+='<img src="'+i.data.profile_picture+'" alt="'+i.data.full_name+'" width="50" height="50">',u+="</div>",u+="</a>",t.find(".sb_instagram_header").prepend(u),t.find(".sbi_follow_btn").length&&t.find(".sbi_follow_btn a").attr("href","http://instagram.com/"+i.data.username)}}),jQuery.each(b,function(d,c){var u=new instagramfeed({target:i,get:a,sortBy:l,resolution:s,limit:parseInt(n,10),template:'<div class="sbi_item sbi_type_{{model.type}} sbi_new" id="sbi_{{id}}" data-date="{{model.created_time_raw}}"><div class="sbi_photo_wrap"><a class="sbi_photo" href="{{link}}" target="_blank"><img src="{{image}}" alt="{{caption}}" width="200" height="200" /></a></div></div>',filter:function(t){var i=new Date(1e3*t.created_time),e=i.getTime();return t.created_time_raw=e,null!=t.caption&&(t.caption.text=t.caption.text.replace(/[^a-zA-Z ]/g,"")),t.images.thumbnail.url=t.images.thumbnail.url.split("?ig_cache_key")[0],t.images.standard_resolution.url=t.images.standard_resolution.url.split("?ig_cache_key")[0],t.images.low_resolution.url=t.images.low_resolution.url.split("?ig_cache_key")[0],!0},userId:parseInt(c,10),accessToken:sb_instagram_js_options.sb_instagram_at,after:function(){function a(){if("thumbnail"!==s){var i=t.find(".sbi_photo").eq(0).innerWidth(),e=parseInt(o);if(!t.hasClass("sbi_disable_mobile")){var n=jQuery(window).width();640>n&&parseInt(o)>2&&parseInt(o)<7&&(e=2),640>n&&parseInt(o)>6&&parseInt(o)<11&&(e=4),480>=n&&parseInt(o)>2&&(e=1)}var a=t.find("#sbi_images").width()/e-2*r.imagepadding;a>=i&&(i=a),t.find(".sbi_photo").css("height",i)}}function d(){t.removeClass("sbi_small sbi_medium");var i=t.find(".sbi_item").innerWidth();i>120&&240>i?t.addClass("sbi_medium"):120>=i&&t.addClass("sbi_small")}if(t.find(".sbi_loader").remove(),this.hasNext()&&h.push("1"),h.length>0?e.show():(e.hide(),t.css("padding-bottom",0)),"function"==typeof sbi_custom_js&&setTimeout(function(){sbi_custom_js()},100),"thumbnail"!==s){var i=i||{VER:"0.9.944"};i.bgs_Available=!1,i.bgs_CheckRunned=!1,function(t){function e(){if(!i.bgs_CheckRunned){i.bgs_CheckRunned=!0;var e=t('<span style="background-size:cover" />');t("body").append(e),!function(){var t=e[0];if(t&&window.getComputedStyle){var s=window.getComputedStyle(t,null);s&&s.backgroundSize&&(i.bgs_Available="cover"===s.backgroundSize)}}(),e.remove()}}t.fn.extend({sbi_imgLiquid:function(s){this.defaults={fill:!0,verticalAlign:"center",horizontalAlign:"center",useBackgroundSize:!0,useDataHtmlAttr:!0,responsive:!0,delay:0,fadeInTime:0,removeBoxBackground:!0,hardPixels:!0,responsiveCheckTime:500,timecheckvisibility:500,onStart:null,onFinish:null,onItemStart:null,onItemFinish:null,onItemError:null},e();var o=this;return this.options=s,this.settings=t.extend({},this.defaults,this.options),this.settings.onStart&&this.settings.onStart(),this.each(function(e){function s(){-1===h.css("background-image").indexOf(encodeURI(p.attr("src")))&&h.css({"background-image":'url("'+encodeURI(p.attr("src"))+'")'}),h.css({"background-size":u.fill?"cover":"contain","background-position":(u.horizontalAlign+" "+u.verticalAlign).toLowerCase(),"background-repeat":"no-repeat"}),t("a:first",h).css({display:"block",width:"100%",height:"100%"}),t("img",h).css({display:"none"}),u.onItemFinish&&u.onItemFinish(e,h,p),h.addClass("sbi_imgLiquid_bgSize"),h.addClass("sbi_imgLiquid_ready"),c()}function n(){function i(){p.data("sbi_imgLiquid_error")||p.data("sbi_imgLiquid_loaded")||p.data("sbi_imgLiquid_oldProcessed")||(h.is(":visible")&&p[0].complete&&p[0].width>0&&p[0].height>0?(p.data("sbi_imgLiquid_loaded",!0),setTimeout(d,e*u.delay)):setTimeout(i,u.timecheckvisibility))}if(p.data("oldSrc")&&p.data("oldSrc")!==p.attr("src")){var s=p.clone().removeAttr("style");return s.data("sbi_imgLiquid_settings",p.data("sbi_imgLiquid_settings")),p.parent().prepend(s),p.remove(),p=s,p[0].width=0,void setTimeout(n,10)}return p.data("sbi_imgLiquid_oldProcessed")?void d():(p.data("sbi_imgLiquid_oldProcessed",!1),p.data("oldSrc",p.attr("src")),t("img:not(:first)",h).css("display","none"),h.css({overflow:"hidden"}),p.fadeTo(0,0).removeAttr("width").removeAttr("height").css({visibility:"visible","max-width":"none","max-height":"none",width:"auto",height:"auto",display:"block"}),p.on("error",a),p[0].onerror=a,i(),void r())}function r(){(u.responsive||p.data("sbi_imgLiquid_oldProcessed"))&&p.data("sbi_imgLiquid_settings")&&(u=p.data("sbi_imgLiquid_settings"),h.actualSize=h.get(0).offsetWidth+h.get(0).offsetHeight/1e4,h.sizeOld&&h.actualSize!==h.sizeOld&&d(),h.sizeOld=h.actualSize,setTimeout(r,u.responsiveCheckTime))}function a(){p.data("sbi_imgLiquid_error",!0),h.addClass("sbi_imgLiquid_error"),u.onItemError&&u.onItemError(e,h,p),c()}function l(){var t={};if(o.settings.useDataHtmlAttr){var e=h.attr("data-sbi_imgLiquid-fill"),s=h.attr("data-sbi_imgLiquid-horizontalAlign"),n=h.attr("data-sbi_imgLiquid-verticalAlign");("true"===e||"false"===e)&&(t.fill=Boolean("true"===e)),void 0===s||"left"!==s&&"center"!==s&&"right"!==s&&-1===s.indexOf("%")||(t.horizontalAlign=s),void 0===n||"top"!==n&&"bottom"!==n&&"center"!==n&&-1===n.indexOf("%")||(t.verticalAlign=n)}return i.isIE&&o.settings.ieFadeInDisabled&&(t.fadeInTime=0),t}function d(){var t,i,s,o,n,r,a,l,d=0,f=0,m=h.width(),g=h.height();void 0===p.data("owidth")&&p.data("owidth",p[0].width),void 0===p.data("oheight")&&p.data("oheight",p[0].height),u.fill===m/g>=p.data("owidth")/p.data("oheight")?(t="100%",i="auto",s=Math.floor(m),o=Math.floor(m*(p.data("oheight")/p.data("owidth")))):(t="auto",i="100%",s=Math.floor(g*(p.data("owidth")/p.data("oheight"))),o=Math.floor(g)),n=u.horizontalAlign.toLowerCase(),a=m-s,"left"===n&&(f=0),"center"===n&&(f=.5*a),"right"===n&&(f=a),-1!==n.indexOf("%")&&(n=parseInt(n.replace("%",""),10),n>0&&(f=a*n*.01)),r=u.verticalAlign.toLowerCase(),l=g-o,"left"===r&&(d=0),"center"===r&&(d=.5*l),"bottom"===r&&(d=l),-1!==r.indexOf("%")&&(r=parseInt(r.replace("%",""),10),r>0&&(d=l*r*.01)),u.hardPixels&&(t=s,i=o),p.css({width:t,height:i,"margin-left":Math.floor(f),"margin-top":Math.floor(d)}),p.data("sbi_imgLiquid_oldProcessed")||(p.fadeTo(u.fadeInTime,1),p.data("sbi_imgLiquid_oldProcessed",!0),u.removeBoxBackground&&h.css("background-image","none"),h.addClass("sbi_imgLiquid_nobgSize"),h.addClass("sbi_imgLiquid_ready")),u.onItemFinish&&u.onItemFinish(e,h,p),c()}function c(){e===o.length-1&&o.settings.onFinish&&o.settings.onFinish()}var u=o.settings,h=t(this),p=t("img:first",h);return p.length?(p.data("sbi_imgLiquid_settings")?(h.removeClass("sbi_imgLiquid_error").removeClass("sbi_imgLiquid_ready"),u=t.extend({},p.data("sbi_imgLiquid_settings"),o.options)):u=t.extend({},o.settings,l()),p.data("sbi_imgLiquid_settings",u),u.onItemStart&&u.onItemStart(e,h,p),void(i.bgs_Available&&u.useBackgroundSize?s():n())):void a()})}})}(jQuery),!function(){var t=i.injectCss,e=document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t)),e.appendChild(s)}(),t.find(".sbi_photo").sbi_imgLiquid({fill:!0})}var n=function(){var t=0;return function(i,e){clearTimeout(t),t=setTimeout(i,e)}}();jQuery(window).resize(function(){n(function(){a()},500)}),a(),!function(t){var i={callback:function(){},runOnLoad:!0,frequency:100,sbiPreviousVisibility:null},e={};e.sbiCheckVisibility=function(t,i){if(jQuery.contains(document,t[0])){var s=i.sbiPreviousVisibility,o=t.is(":visible");i.sbiPreviousVisibility=o,null==s?i.runOnLoad&&i.callback(t,o):s!==o&&i.callback(t,o),setTimeout(function(){e.sbiCheckVisibility(t,i)},i.frequency)}},t.fn.sbiVisibilityChanged=function(s){var o=t.extend({},i,s);return this.each(function(){e.sbiCheckVisibility(t(this),o)})}}(jQuery),jQuery(".sbi").filter(":hidden").sbiVisibilityChanged({callback:function(){a()},runOnLoad:!1}),jQuery("#sb_instagram .sbi_photo").each(function(){$sbi_photo=jQuery(this),$sbi_photo.hover(function(){jQuery(this).fadeTo(200,.85)},function(){jQuery(this).stop().fadeTo(500,1)}),$sbi_photo.closest(".sbi_item").hasClass("sbi_type_video")&&($sbi_photo.find(".sbi_playbtn").length||$sbi_photo.append('<i class="fa fa-play sbi_playbtn"></i>'))}),t.find("#sbi_images .sbi_item.sbi_new").sort(function(t,i){var e=jQuery(t).data("date"),s=jQuery(i).data("date");return"none"==l?s-e:Math.round(Math.random())-.5}).appendTo(t.find("#sbi_images")),setTimeout(function(){jQuery("#sbi_images .sbi_item.sbi_new").removeClass("sbi_new"),h=[]},500),d()},error:function(t){var i="",e="";t.indexOf("access_token")>-1?(i+="<p><b>Error: Access Token is not valid</b><br /><span>This error message is only visible to WordPress admins</span>",e="<p>There's an issue with the Instagram Access Token that you are using. Please obtain a new Access Token on the plugin's Settings page.<br />If you continue to have an issue with your Access Token then please see <a href='https://smashballoon.com/my-instagram-access-token-keep-expiring/' target='_blank'>this FAQ</a> for more information."):t.indexOf("user does not exist")>-1&&(i+="<p><b>Error: The User ID does not exist</b><br /><span>This error is only visible to WordPress admins</span>",e="<p>Please double check the Instagram User ID that you are using. To find your User ID simply enter your Instagram user name into this <a href='http://www.otzberg.net/iguserid/' target='_blank'>tool</a>.</p>"),b.length<2&&jQuery("#sb_instagram").empty().append('<p style="text-align: center;">Unable to show Instagram photos</p><div id="sbi_mod_error">'+i+e+"</div>")}});e.click(function(){u.next()}),u.run()})})}var t="undefined"!=typeof t?!0:!1;t||(function(){var t,i;t=function(){function t(t,i){var e,s;if(this.options={target:"instafeed",get:"popular",resolution:"thumbnail",sortBy:"none",links:!0,mock:!1,useHttp:!1},"object"==typeof t)for(e in t)s=t[e],this.options[e]=s;this.context=null!=i?i:this,this.unique=this._genKey()}return t.prototype.hasNext=function(){return"string"==typeof this.context.nextUrl&&this.context.nextUrl.length>0},t.prototype.next=function(){return this.hasNext()?this.run(this.context.nextUrl):!1},t.prototype.run=function(i){var e,s,o;if("string"!=typeof this.options.clientId&&"string"!=typeof this.options.accessToken)throw new Error("Missing clientId or accessToken.");if("string"!=typeof this.options.accessToken&&"string"!=typeof this.options.clientId)throw new Error("Missing clientId or accessToken.");return null!=this.options.before&&"function"==typeof this.options.before&&this.options.before.call(this),"undefined"!=typeof document&&null!==document&&(o=document.createElement("script"),o.id="instafeed-fetcher",o.src=i||this._buildUrl(),e=document.getElementsByTagName("head"),e[0].appendChild(o),s="instafeedCache"+this.unique,window[s]=new t(this.options,this),window[s].unique=this.unique),!0},t.prototype.parse=function(t){var i,e,s,o,n,r,a,l,d,c,u,h,p,f,m,g,b,_,y,v,w,k;if("object"!=typeof t){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"Invalid JSON data"),!1;throw new Error("Invalid JSON response")}if(200!==t.meta.code){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,t.meta.error_message),!1;throw new Error("Error from Instagram: "+t.meta.error_message)}if(0===t.data.length){if(null!=this.options.error&&"function"==typeof this.options.error)return this.options.error.call(this,"No images were returned from Instagram"),!1;throw new Error("No images were returned from Instagram")}if(null!=this.options.success&&"function"==typeof this.options.success&&this.options.success.call(this,t),this.context.nextUrl="",null!=t.pagination&&(this.context.nextUrl=t.pagination.next_url),"none"!==this.options.sortBy)switch(f="random"===this.options.sortBy?["","random"]:this.options.sortBy.split("-"),p="least"===f[0]?!0:!1,f[1]){case"random":t.data.sort(function(){return.5-Math.random()});break;case"recent":t.data=this._sortBy(t.data,"created_time",p);break;case"liked":t.data=this._sortBy(t.data,"likes.count",p);break;case"commented":t.data=this._sortBy(t.data,"comments.count",p);break;default:throw new Error("Invalid option for sortBy: '"+this.options.sortBy+"'.")}if("undefined"!=typeof document&&null!==document&&this.options.mock===!1){if(l=t.data,null!=this.options.limit&&l.length>this.options.limit&&(l=l.slice(0,this.options.limit+1||9e9)),e=document.createDocumentFragment(),null!=this.options.filter&&"function"==typeof this.options.filter&&(l=this._filter(l,this.options.filter)),null!=this.options.template&&"string"==typeof this.options.template){for(o="",r="",c="",m=document.createElement("div"),g=0,y=l.length;y>g;g++)n=l[g],a=n.images[this.options.resolution].url,this.options.useHttp||(a=a.replace("http://","//")),r=this._makeTemplate(this.options.template,{model:n,id:n.id,link:n.link,image:a,caption:this._getObjectProperty(n,"caption.text"),likes:n.likes.count,comments:n.comments.count,location:this._getObjectProperty(n,"location.name")}),o+=r;for(m.innerHTML=o,k=[].slice.call(m.childNodes),b=0,v=k.length;v>b;b++)h=k[b],e.appendChild(h)}else for(_=0,w=l.length;w>_;_++)n=l[_],d=document.createElement("img"),a=n.images[this.options.resolution].url,this.options.useHttp||(a=a.replace("http://","//")),d.src=a,this.options.links===!0?(i=document.createElement("a"),i.href=n.link,i.appendChild(d),e.appendChild(i)):e.appendChild(d);this.options.target.append(e),s=document.getElementsByTagName("head")[0],s.removeChild(document.getElementById("instafeed-fetcher")),u="instafeedCache"+this.unique,window[u]=void 0;try{delete window[u]}catch(I){}}return null!=this.options.after&&"function"==typeof this.options.after&&this.options.after.call(this),!0},t.prototype._buildUrl=function(){var t,i,e;switch(t="https://api.instagram.com/v1",this.options.get){case"popular":i="media/popular";break;case"tagged":if("string"!=typeof this.options.tagName)throw new Error("No tag name specified. Use the 'tagName' option.");i="tags/"+this.options.tagName+"/media/recent";break;case"location":if("number"!=typeof this.options.locationId)throw new Error("No location specified. Use the 'locationId' option.");i="locations/"+this.options.locationId+"/media/recent";break;case"user":if("number"!=typeof this.options.userId)throw new Error("No user specified. Use the 'userId' option.");if("string"!=typeof this.options.accessToken)throw new Error("No access token. Use the 'accessToken' option.");i="users/"+this.options.userId+"/media/recent";break;default:throw new Error("Invalid option for get: '"+this.options.get+"'.")}return e=""+t+"/"+i,e+=null!=this.options.accessToken?"?access_token="+this.options.accessToken:"?client_id="+this.options.clientId,null!=this.options.limit&&(e+="&count="+this.options.limit),e+="&callback=instafeedCache"+this.unique+".parse"},t.prototype._genKey=function(){var t;return t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},""+t()+t()+t()+t()},t.prototype._makeTemplate=function(t,i){var e,s,o,n,r;for(s=/(?:\{{2})([\w\[\]\.]+)(?:\}{2})/,e=t;s.test(e);)o=e.match(s)[1],n=null!=(r=this._getObjectProperty(i,o))?r:"",e=e.replace(s,""+n);return e},t.prototype._getObjectProperty=function(t,i){var e,s;for(i=i.replace(/\[(\w+)\]/g,".$1"),s=i.split(".");s.length;){if(e=s.shift(),!(null!=t&&e in t))return null;t=t[e]}return t},t.prototype._sortBy=function(t,i,e){var s;return s=function(t,s){var o,n;return o=this._getObjectProperty(t,i),n=this._getObjectProperty(s,i),e?o>n?1:-1:n>o?1:-1},t.sort(s.bind(this)),t},t.prototype._filter=function(t,i){var e,s,o,n,r;for(e=[],o=function(t){return i(t)?e.push(t):void 0},n=0,r=t.length;r>n;n++)s=t[n],o(s);return e},t}(),i="undefined"!=typeof exports&&null!==exports?exports:window,i.instagramfeed=t}.call(this),function(){"use strict";var t=Array.prototype.slice;try{t.call(document.documentElement)}catch(i){Array.prototype.slice=function(i,e){if(e="undefined"!=typeof e?e:this.length,"[object Array]"===Object.prototype.toString.call(this))return t.call(this,i,e);var s,n,o=[],r=this.length,a=i||0;a=a>=0?a:r+a;var l=e?e:r;if(0>e&&(l=r+e),n=l-a,n>0)if(o=new Array(n),this.charAt)for(s=0;n>s;s++)o[s]=this.charAt(a+s);else for(s=0;n>s;s++)o[s]=this[a+s];return o}}}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var i=Array.prototype.slice.call(arguments,1),e=this,s=function(){},o=function(){return e.apply(this instanceof s&&t?this:t,i.concat(Array.prototype.slice.call(arguments)))};return s.prototype=this.prototype,o.prototype=new s,o}),jQuery(document).ready(function(){i()}))}();